# Health-code-management-system
## 1.	项目背景
### 由于今年疫情的爆发，健康码成为了跨省、进入公共场合或参加各种活动的通行证。各单位、学校都需定期例行收集、检查员工或学生的健康码状况。若仍采用将健康码发到群里，再由负责人统一清点，检查健康状态，提醒未按时提交的人员等，将给负责人带来极大的工作压力，而且群里极容易被所有人的健康码刷屏，可能导致消息被错过等问题。针对这个问题，我和朱亦辰致力于编写一款能解决以上痛点问题，减轻负责人负担的web项目。
## 2.	 项目需求分析
### 为了迎合项目针对的两大人群：管理者、被管理者，本项目的用户界面将分别设计，采用不同的界面样式。为了减少使用者的学习成本，在上传界面我们的内容元素化繁为简，只突出必备功能，居中的大标题会提醒你今天是否上传，若上传完毕则会显示今日已提交，图片上传步骤极其简易。针对管理者的收集、整理和统计的功能需求，我们一一设计了相应的功能。除开这些基本需求外，我们还针对健康码的状态，未提交成员的突出显示和提醒，设计相应的功能。解决所有管理者的痛点需求。
## 3.	项目整体设计
### 在登录界面，针对使用者属性的不同，大部分网站可能都会在登录界面增加一个选项，选择你是学生还是老师。但是这一来，必有其中一方每次登录都需选择一下，考虑到这个项目使用者的使用频率（可能每天都要使用），我在登录界面取消了使用者的主动选择按钮，取而代之的是根据登录用户名自动判断。综合之后邮件提醒功能的需要和QQ号的唯一性（所有人的QQ号都不可能重复），我将健康码上传者的登录id限定为使用QQ号注册，管理者的登录id则可以是任意非纯数字的组合。这样只需判断登录id是否仅含数字即可区分是否为管理员。注册的用户信息都将存放于数据库的教师和学生表中，每次登录校验，都会从该表中调用查询。
### 数据库的设计较为简单，分为教师表和学生表。教师表有TeacherNo(登录id)，TeacherPs(登录密码)，TeName(教师姓名)三个属性。学生表有StuNo（登录id），StuPs(登录密码)，StuName(学生姓名)，Pic（健康码状态），Data(提交日期，年-月-日)，Base(longblob，用于存放转为二进制的图片)。
### 登录完成之后会跳转到相应的用户界面，我主要负责教师端的设计。前端界面样式采用了开源的layui设计，标题栏会显示教师的姓名。整个页面以一张Table为主体，表格有学生姓名、健康状况、提交时间、学生邮箱和提醒5个栏目。点击学生姓名可跳转查看该学生的健康码，健康状况会根据健康码颜色改变字体颜色，提醒栏中只有今日未提交的学生才会显示提醒按钮，点击后可向其发送电子邮件提醒，醒目直观。
### 学生端在上传完健康码后，会调用Python文件识别健康状况，并将图片用缓冲保存，转为Byte数组保存至数据库。学生端的前端设计、数据库的插入和对python文件的调用由朱亦辰负责，我负责图像识别的python文件编写和将图片转换字符数组。
